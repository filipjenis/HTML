<!DOCTYPE html><html> <head> <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"> <title>Tic-tac-toe</title> </head> <body> <div class="w3-container" style="text-align: center; background: #FFCC1F"><h1><b>Tic Tac Toe</b></h1></div><br> <div class="w3-display-middle"> <table> <tr><td><input type="button" style="width: 100px; height: 100px; font-weight: bold; background: #FFBC1F; color: #000000;" id="0,0" onclick="clickButton(this.id)"></td> <td><input type="button" style="width: 100px; height: 100px; font-weight: bold; background: #FFBC1F; color: #000000;" id="0,1" onclick="clickButton(this.id)"></td> <td><input type="button" style="width: 100px; height: 100px; font-weight: bold; background: #FFBC1F; color: #000000;" id="0,2" onclick="clickButton(this.id)"></td></tr> <tr><td><input type="button" style="width: 100px; height: 100px; font-weight: bold; background: #FFBC1F; color: #000000;" id="1,0" onclick="clickButton(this.id)"></td> <td><input type="button" style="width: 100px; height: 100px; font-weight: bold; background: #FFBC1F; color: #000000;" id="1,1" onclick="clickButton(this.id)"></td> <td><input type="button" style="width: 100px; height: 100px; font-weight: bold; background: #FFBC1F; color: #000000;" id="1,2" onclick="clickButton(this.id)"></td></tr> <tr><td><input type="button" style="width: 100px; height: 100px; font-weight: bold; background: #FFBC1F; color: #000000;" id="2,0" onclick="clickButton(this.id)"></td> <td><input type="button" style="width: 100px; height: 100px; font-weight: bold; background: #FFBC1F; color: #000000;" id="2,1" onclick="clickButton(this.id)"></td> <td><input type="button" style="width: 100px; height: 100px; font-weight: bold; background: #FFBC1F; color: #000000;" id="2,2" onclick="clickButton(this.id)"></td></tr> </table> <br> <input type="button" value="Restart" class="w3-button w3-round-large w3-amber" style="margin-left: 115px;" onclick="window.location.reload();"> </div> <div id="winner_display"> </div> <script> grid={0:["","",""],1:["","",""],2:["","",""]},result=[];let findDuplicates=e=>e.filter((t,n)=>e.indexOf(t)!=n);function clickButton(e){grid_id=e.split(","),document.getElementById(e).value="X",document.getElementById(e).disabled=!0,grid[grid_id[0]][grid_id[1]]="X",agression()}function agression(){console.log("agression");for(var e=0;e<1;e++){res=[],empty=[];for(var t=0;t<3;t++){res=[],empty=[];for(var n=0;n<3;n++)["O"].includes(grid[t][n])&&res.push([t,n]),[""].includes(grid[t][n])&&empty.push([t,n]);2===res.length&&1===empty.length&&0===e&&(document.getElementById(empty[0][0]+","+empty[0][1]).value="O",document.getElementById(empty[0][0]+","+empty[0][1]).disabled=!0,grid[empty[0][0]][empty[0][1]]="O",e++)}for(n=0;n<3;n++){res=[],empty=[];for(t=0;t<3;t++)["O"].includes(grid[t][n])&&res.push([t,n]),[""].includes(grid[t][n])&&empty.push([t,n]);2===res.length&&1===empty.length&&0===e&&(document.getElementById(empty[0][0]+","+empty[0][1]).value="O",document.getElementById(empty[0][0]+","+empty[0][1]).disabled=!0,grid[empty[0][0]][empty[0][1]]="O",e++)}res=[],empty=[];for(n=0,t=0;t<3;n++,t++)["O"].includes(grid[t][n])&&res.push([t,n]),[""].includes(grid[t][n])&&empty.push([t,n]);2===res.length&&1===empty.length&&0===e&&(document.getElementById(empty[0][0]+","+empty[0][1]).value="O",document.getElementById(empty[0][0]+","+empty[0][1]).disabled=!0,grid[empty[0][0]][empty[0][1]]="O",e++),res=[],empty=[];for(n=0,t=2;t>=0;n++,t--)["O"].includes(grid[t][n])&&res.push([t,n]),[""].includes(grid[t][n])&&empty.push([t,n]);2===res.length&&1===empty.length&&0===e&&(document.getElementById(empty[0][0]+","+empty[0][1]).value="O",document.getElementById(empty[0][0]+","+empty[0][1]).disabled=!0,grid[empty[0][0]][empty[0][1]]="O",e++),console.log(e),empty=[];for(n=0;n<3;n++)for(t=0;t<3;t++)""==grid[t][n]&&empty.push(grid[t][n]);0==e&&empty.includes("")&&(""!=grid[1][1]?normal():(document.getElementById("1,1").value="O",document.getElementById("1,1").disabled=!0,grid[1][1]="O"))}winner()}function normal(){console.log("normal");for(var e=0;e<1;e++){res=[],empty=[];for(var t=0;t<3;t++){res=[],empty=[];for(var n=0;n<3;n++)["X"].includes(grid[t][n])&&res.push([t,n]),[""].includes(grid[t][n])&&empty.push([t,n]);2===res.length&&1===empty.length&&0===e&&(document.getElementById(empty[0][0]+","+empty[0][1]).value="O",document.getElementById(empty[0][0]+","+empty[0][1]).disabled=!0,grid[empty[0][0]][empty[0][1]]="O",e++)}for(n=0;n<3;n++){res=[],empty=[];for(t=0;t<3;t++)["X"].includes(grid[t][n])&&res.push([t,n]),[""].includes(grid[t][n])&&empty.push([t,n]);2===res.length&&1===empty.length&&0===e&&(document.getElementById(empty[0][0]+","+empty[0][1]).value="O",document.getElementById(empty[0][0]+","+empty[0][1]).disabled=!0,grid[empty[0][0]][empty[0][1]]="O",e++)}res=[],empty=[];for(n=0,t=0;t<3;n++,t++)["X"].includes(grid[t][n])&&res.push([t,n]),[""].includes(grid[t][n])&&empty.push([t,n]);2===res.length&&1===empty.length&&0===e&&(document.getElementById(empty[0][0]+","+empty[0][1]).value="O",document.getElementById(empty[0][0]+","+empty[0][1]).disabled=!0,grid[empty[0][0]][empty[0][1]]="O",e++),res=[],empty=[];for(n=0,t=2;t>=0;n++,t--)["X"].includes(grid[t][n])&&res.push([t,n]),[""].includes(grid[t][n])&&empty.push([t,n]);2===res.length&&1===empty.length&&0===e&&(document.getElementById(empty[0][0]+","+empty[0][1]).value="O",document.getElementById(empty[0][0]+","+empty[0][1]).disabled=!0,grid[empty[0][0]][empty[0][1]]="O",e++),console.log(e),empty=[],result=[];for(n=0;n<3;n++)for(t=0;t<3;t++)""==grid[t][n]&&result.push(t+","+n);for(n=0;n<3;n++)for(t=0;t<3;t++)""==grid[t][n]&&empty.push(grid[t][n]);if(0==e&&empty.includes(""))if(""!=grid[1][1]){c=Math.floor(Math.random()*(result.length-1)),rnd=result[c],grid_write=rnd.split(",");try{document.getElementById(rnd).value="O",document.getElementById(rnd).disabled=!0,grid[grid_write[0]][grid_write[1]]="O"}catch(e){}finally{grid[rnd.split(",")[0]][rnd.split(",")[1]]="O"}}else document.getElementById("1,1").value="O",document.getElementById("1,1").disabled=!0,grid[1][1]="O"}winner()}function winner(){won="";for(var e=0;e<3;e++){result=[];for(var t=0;t<3;t++)["X","O"].includes(grid[t][e])&&(result.push(grid[t][e]),1==new Set(result).size&&3==result.length&&(won=result[0]))}if(""!=won)return console.log(`${won} won, type = 'column' `),"O"===won&&pc(),void("X"===won&&setTimeout(you,100));for(t=0;t<3;t++){result=[];for(e=0;e<3;e++)["X","O"].includes(grid[t][e])&&(result.push(grid[t][e]),1==new Set(result).size&&3==result.length&&(won=result[0]))}if(""!=won)return console.log(`${won} won, type = 'row' `),"O"===won&&pc(),void("X"===won&&setTimeout(you,100));result=[];for(e=0,t=0;t<3;e++,t++)["X","O"].includes(grid[t][e])&&(result.push(grid[t][e]),1==new Set(result).size&&3==result.length&&(won=result[0]));if(""!=won)return console.log(`${won} won, type = 'diagonal right' `),"O"===won&&pc(),void("X"===won&&setTimeout(you,100));result=[];for(e=0,t=2;t>=0;e++,t--)["X","O"].includes(grid[t][e])&&(result.push(grid[t][e]),1==new Set(result).size&&3==result.length&&(won=result[0]));if(""!=won)return console.log(`${won} won, type = 'diagonal left' `),"O"===won&&pc(),void("X"===won&&setTimeout(you,100));result=[];for(e=0;e<3;e++)for(t=0;t<3;t++)""==grid[t][e]&&result.push(grid[t][e]);result.includes("")||(console.log("Noone won, it's a tie!"),setTimeout(tie,100));for(e=0;e<3;e++)for(t=0;t<3;t++)document.getElementById(t+","+e).disabled?(document.getElementById(t+","+e).style.cursor="not-allowed",document.getElementById(t+","+e).style.background="#856210"):(document.getElementById(t+","+e).style.cursor="auto",document.getElementById(t+","+e).style.background="#FFBC1F")}function lock(){for(var e=0;e<3;e++)for(var t=0;t<3;t++)["X","O"].includes(grid[t][e])&&(document.getElementById(t+","+e).style.background="#856210"),document.getElementById(t+","+e).disabled=!0,document.getElementById(t+","+e).style.cursor="not-allowed"}function pc(){lock(),console.log("Computer won"),document.getElementById("winner_display").innerHTML+='\n <div class="w3-panel w3-display-container w3-display-topmiddle" style="background: #FFBC1F; width: 100%; text-align: center;">\n <span onclick="this.parentElement.style.display=\'none\'" class="w3-button w3-red w3-large w3-display-topright" style="font-weight: bold;">\n x\n </span>\n <p>\n <b>\n <h1>The ai won!</h1>\n </b>\n </p>\n </div>\n '}function tie(){lock(),console.log("It's a tie"),document.getElementById("winner_display").innerHTML+='\n <div class="w3-panel w3-display-container w3-display-topmiddle" style="background: #FFBC1F; width: 100%; text-align: center;">\n <span onclick="this.parentElement.style.display=\'none\'" class="w3-button w3-red w3-large w3-display-topright" style="font-weight: bold;">\n x\n </span>\n <p>\n <b>\n <h1>It\'s a tie!</h1>\n </b>\n </p>\n </div>\n '}function you(){lock(),console.log("User won"),document.getElementById("winner_display").innerHTML+='\n <div class="w3-panel w3-display-container w3-display-topmiddle" style="background: #FFBC1F; width: 100%; text-align: center;">\n <span onclick="this.parentElement.style.display=\'none\'" class="w3-button w3-red w3-large w3-display-topright" style="font-weight: bold;">\n x\n </span>\n <p>\n <b>\n <h1>You won!</h1>\n </b>\n </p>\n </div>\n '} </script> </body></html>
